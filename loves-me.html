<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>My Heavenly Father Loves Me</title>
    <meta name="description" content="Activity page for the Primary song My Heavenly Father Loves Me">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="https://ethyl2.github.io/primary-song-activities/images/doing/rain.jpg">
    <meta property="og:url" content="https://ethyl2.github.io/loves-me.html">
    <meta property="og:title" content="My Heavenly Father Loves Me">
    <meta property="og:description" content="Activity page for the Primary song My Heavenly Father Loves Me">
    <meta property="og:type" content="website" />
    <link rel="icon" type="image/x-icon" href="favicon.ico?">
    <link rel="apple-touch-icon" sizes="180x180"
      href="https://ethyl2.github.io/primary-song-activities/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32"
      href="https://ethyl2.github.io/primary-song-activities/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16"
      href="https://ethyl2.github.io/primary-song-activities/favicon-16x16.png">
    <link rel="manifest" href="https://ethyl2.github.io/primary-song-activities/site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mali&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  </head>

  <body class="bg-white text-gray-800 min-h-screen" style="font-family: 'Mali', cursive;">
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <header class="flex flex-col items-center justify-center py-2 pt-4 md:py-10 bg-pink-100">
      <h1 class="text-bold text-lg md:text-3xl text-center font-bold">My Heavenly Father Loves Me</h1>
    </header>

    <main
      class="min-h-screen flex flex-col items-center justify-start mt-8 md:mt-12"
    >
      <div id="button-container" class="mb-8 md:mb-12 flex flex-col items-center justify-center font-semibold text-center space-y-6 w-full">
      </div>
      <audio controls>
        <source src="./audio/loves-me.mp3" type="audio/mp3">
        Your browser does not support the audio element.
      </audio>
      <div class="mt-8 md:hidden">
        <iframe 
          id="video-iframe"
          width="300" 
          height="200" 
          src="https://www.youtube.com/embed/DSj8K4wcoz4" 
          title="YouTube video player"
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen
        ></iframe>
      </div>
      <div class="mt-12 hidden md:block">
        <iframe 
          id="video-iframe"
          width="560" 
          height="315" 
          src="https://www.youtube.com/embed/DSj8K4wcoz4" 
          title="YouTube video player"
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen
        ></iframe>
      </div>
    </main>
    <footer class="mt-12 h-40 w-full bg-white flex flex-col space-y-2 items-center justify-center pt-2 bg-blue-100 md:pt-4">
      <div class="flex items-center justify-center space-x-3">
        <a href="https://ethyl2.github.io/primary-song-activities/" title="back to home"
          class="bg-white p-px rounded hover:bg-green-400">
          <img src="./images/home.png" alt="music note" class="w-7 h-7 md:w-10 md:h-10" />
          <span class="sr-only">Back to Home</span>
        </a>
        <a href="https://www.churchofjesuschrist.org/music/library/childrens-songbook/my-heavenly-father-loves-me"
          target="_blank" title="sheet music" class="bg-white p-px rounded hover:bg-yellow-400">
          <img src="./images/music-note-icon.png" alt="music note" class="w-7 h-7 md:w-10 md:h-10" />
          <span class="sr-only">Link to Sheet Music</span>
        </a>

        <a href="https://github.com/ethyl2/primary-song-activities" target="_blank" rel="noopener noreferrer"
          class="p-px rounded bg-white hover:bg-red-400" title="link to GitHub repository">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
            class="w-7 h-7 md:w-10 md:h-10" focusable="false" width="1.73em" height="1.5em" style="
                                          -ms-transform: rotate(360deg);
                                          -webkit-transform: rotate(360deg);
                                          transform: rotate(360deg);
                                      " preserveAspectRatio="xMidYMid meet" viewBox="0 0 1227.825 1000">
            <path
              d="M1078.94-.985c-33.192-.491-110.295 10.777-239.027 96.936c-70.161-17.535-144.812-26.188-219.591-26.188c-82.278 0-165.425 10.448-242.965 31.719C192.534-24.605 110.955 1.234 110.955 1.234c-53.258 133.183-20.347 231.788-10.344 256.277C38.014 325.069-.2 411.338-.2 517.07c0 79.822 9.085 151.416 31.281 213.653c1.231 4.803.832 3.732 2.906 7.844c4.89 12.884 10.327 25.39 16.438 37.468c2.094 4.346 4 7.563 4 7.563c62.395 116.307 185.396 191.438 404.244 215.028l330.995.375c233.392-23.144 345.386-98.499 396.994-215.591l3.281-7.625c4.89-11.828 9.153-24.135 20.813-65.562c11.659-41.427 16.875-113.172 16.875-193.185c0-114.755-43.1-206.577-113.092-276.434c12.231-39.48 28.57-127.158-16.313-239.402c0 0-6.293-1.995-19.281-2.188zM818.1 420.133c53.893-.117 100.057 9.136 134.717 45.499v.031c43.369 45.541 68.749 100.525 68.749 159.778c0 276.658-177.932 284.183-397.4 284.183c-219.506 0-397.4-38.336-397.4-284.183c0-58.861 25.009-113.516 67.843-158.872c71.451-75.59 192.365-35.562 329.558-35.562c70.423-.011 136.564-10.75 193.935-10.875zm-408.807 81.468c-45.666 0-82.687 61.741-82.687 137.936c0 76.206 37.019 137.967 82.687 137.967c45.666 0 82.687-61.761 82.687-137.967c0-76.184-37.019-137.881-82.687-137.936zm443.649 0c-45.666 0-82.687 61.741-82.687 137.936c0 76.206 37.019 137.967 82.687 137.967c45.666 0 82.687-61.761 82.687-137.967c0-76.184-37.019-137.881-82.687-137.936z"
              fill="black" />
          </svg>
          <span class="sr-only">GitHub Repo</span>
        </a>
      </div>

      <p class="text-center text-sm md:text-base">Copyright <span id="current-year">2021</span> <a
          href="https://github.com/ethyl2" target="_blank" class="hover:underline">Heather Nuffer</a></p>
    </footer>
    </body>
    <script>
      let audio
      const buttonContainer = document.getElementById('button-container')
      const boxClasses = ['flex', 'flex-col', 'items-center', 'justify-center', 'space-y-2', 'p-4', 'rounded', 'border-4', 'hover:border-gray-400', 'shadow', 'w-3/4', 'md:w-1/3']
      const imgClasses = ['object-center', 'h-32', 'w-32', 'rounded', 'md:h-64', 'md:w-64']
      const items = [
        {  
          id: 'bird',
          audioFile: 'bird-song.wav',
          text: 'Whenever I hear the song of a bird',
          imgUrl: 'bird.png',
          bgClass: 'yellow-100',
          audioSrc: 'https://freesound.org/people/InspectorJ/sounds/456440/'
        },
        {  
          id: 'sky',
          audioFile: 'wind-chimes.wav',
          text: 'Or look at the blue, blue sky,',
          imgUrl: 'sky.png',
          bgClass: 'blue-100',
          audioSrc: 'https://freesound.org/people/InspectorJ/sounds/353194/'
        },
        {  
          id: 'rain',
          audioFile: 'rain-drips.mp3',
          text: 'Whenever I feel the rain on my face',
          imgUrl: 'rain.png',
          bgClass: 'indigo-100',
          audioSrc: 'https://freesound.org/people/TheGloomWorker/sounds/476202/'
        },
        {  
          id: 'wind',
          audioFile: 'wind.mp3',
          text: 'Or the wind as it rushes by,',
          imgUrl: 'wind.png',
          bgClass: 'green-100',
          audioSrc: 'https://freesound.org/people/Hephaestus/sounds/250138/'
        },
        {  
          id: 'rose',
          audioFile: 'ding.wav',
          text: 'Whenever I touch a velvet rose',
          imgUrl: 'rose.png',
          bgClass: 'pink-100',
          audioSrc: 'https://freesound.org/people/InspectorJ/sounds/411089/'
        },
        {  
          id: 'lilac-tree',
          audioFile: 'walking.wav',
          text: 'Or walk by our lilac tree,',
          imgUrl: 'lilacs.png',
          bgClass: 'purple-100',
          audioSrc: 'https://freesound.org/people/tec_studio/sounds/98493/'
        },
        {  
          id: 'beautiful-world',
          audioFile: 'beautiful-guitar.wav',
          text: "I'm glad that I live in this beautiful world",
          imgUrl: 'earth.png',
          bgClass: 'green-100',
          audioSrc: 'https://freesound.org/people/fastdash99/sounds/484749/'
        },
        {  
          id: 'created',
          audioFile: 'angelic-choir.wav',
          text: "Heav'nly Father created for me.",
          imgUrl: 'connected.png',
          bgClass: 'red-100',
          audioSrc: 'https://freesound.org/people/esistnichtsoernst/sounds/434700/'
        }
      ]

      items.forEach(item => {
        const box = document.createElement('div')
        box.classList.add(...boxClasses)
        box.classList.add(item.bgClass ? `bg-${item.bgClass}` : 'bg-purple-100')
        box.classList.add(item.bgClass ? `border-${item.bgClass}` : 'border-purple-100')
        box.setAttribute('data-item', item.audioFile)
        const innerImg = document.createElement('img')
        innerImg.src = `./images/loves-me/${item.imgUrl}`
        innerImg.alt = item.id
        innerImg.classList.add(...imgClasses)
        innerImg.setAttribute('data-item', item.audioFile)
        box.append(innerImg)
        const innerP = document.createElement('p')
        innerP.textContent = item.text
        box.append(innerP)
        box.addEventListener('click', handleClick)
        buttonContainer.append(box)
      })
     
      function handleClick(event) {
        const audioFile = event.target.getAttribute('data-item')
        audio = new Audio(`./audio/${audioFile}`)
        audio.play()
      }

      const footer = document.getElementsByTagName('footer')[0]
      const audioSrcSection = document.createElement('div')
      audioSrcSection.classList.add('pb-2')
      items.forEach(item => {
        const audioLink = document.createElement('a')
        audioLink.href = item.audioSrc
        audioLink.target = '_blank'
        audioLink.setAttribute('rel', 'nofollow noopener noreferrer')
        audioLink.textContent = 'ðŸŽµ'
        audioLink.classList.add('p-1', 'rounded', 'hover:bg-white')
        audioLink.setAttribute('title', `source for ${item.audioFile}`)
        audioSrcSection.append(audioLink)
      })
      footer.prepend(audioSrcSection)
      console.log(footer)
      const currentYearSpan = document.getElementById('current-year')
      currentYearSpan.textContent = new Date().getFullYear()
    </script>
  </html>
