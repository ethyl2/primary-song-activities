const primarySongsMashup =
`Whenever I hear the song of a bird
Or look at the blue blue sky
Whenever I feel the rain on my face
Or the wind as it rushes by
Whenever I touch a velvet rose
Or walk by our lilac tree
I'm glad that I live in this beautiful world Heav\'nly Father created for me
He gave me my eyes that I might see the color of butterfly wings
He gave me my ears that I might hear the magical sound of things
He gave me my life my mind my heart
I thank him rev\'rently for all his creations of which I\'m a part
Yes I know loves me
I looked out the window and what did I see
Popcorn popping on the apricot tree
Spring had brought me such a nice surprise
Blossoms popping right before my eyes
I could take an armful and make a treat
A popcorn ball that would smell so sweet
It wasn\'t really so but it seemed to be
Popcorn popping on the apricot tree
Once there was a snowman snowman snowman
Once there was a snowman tall tall tall
In the sun he melted melted melted
In the sun he melted small small small
Adam was a prophet first one that we know
In a place called Eden he helped things to grow
Adam served by following his ways
We are his descendants in the latter days
Follow the prophet follow the prophet
Follow the prophet don\'t go astray
Follow the prophet follow the prophet
Follow the prophet he knows the way
Enoch was a prophet he taught what was good 
People in his city did just what they should
When they were so righteous that there was no sin Heavenly Father took them up to live with him
Noah was a prophet called to preach the word
Tried to cry repentance but nobody heard
They were busy sinning Noah preached in vain
They wished they had listened when they saw the rain
Abraham the prophet prayed to have a son
So sent Isaac as the chosen one
Isaac begat Jacob known as Israel
Jacob\'s sons were twelve tribes so the Bible tells
Moses was a prophet sent to Israel
He would lead them to the promised land to dwell
They were slow to follow or so it appears
They were in the wilderness for forty years
Samuel was a prophet chosen as a boy
Hannah promised her son would serve with joy
In the tabernacle Samuel heard his name
He was called answered Here I am
Jonah was a prophet tried to run away
But he later learned to listen and obey
When we really try won\'t let us fail
That\'s what Jonah learned deep down inside the whale
Daniel was a prophet He refused to sin
So the king threw Daniel in the lions den
Angels calmed the lions and the king soon saw
Daniel\'s power was great for he obeyed law
Now we have a world where people are confused
If you believe it go and watch the news
We can get direction all along our way
If we heed the prophets follow what they say
Singing a song is fun to do
Fun to do to do to do
Singing a song is fun to do
To do to do to do
Do as I\'m doing
Follow follow me
If I do it high or low
If I do it fast or slow
There\'s a light within me
The perfect light
And I have made a promise
To keep it burning bright
By walking in His footsteps
And following His plan
In every time and every place
In every way I can
One simple act of kindness
Will lift a lonely soul
One gentle word that\'s spoken
Turns sadness to hope
One choice
Will spread the love He gives
And one by one the world becomes
A better place to live
I will shine like a candle in the dark
All it takes to make a difference is a spark
And it\'s easy to see that the brightest I\'ll be
Is when I let His light shine through me
Queen Esther\'s story shows me that I can stand for right
Elisha taught that angels protect me by my side
Like David I can slay Goliaths in my way
Like Deborah I can lead my friends
scripture heroes of old
As I learn and grow in faith strength
With every step I take I will choose to serve
Like Moses I find courage for God provides a way
Like Noah I will listen to heaven and obey
trust Job and live with love and hope
Like Hannah hear me when I pray
Caleb was brave
Joseph forgave
Ruth stayed
Daniel prayed
Jonah changed
strength
With every step I take I will choose to serve
Give said the little stream
Give oh give give oh give
Give said the little stream
As it hurried down the hill
Im small I know but wherever I go
The fields grow greener still
Singing singing all the day
Give away oh give away
Singing singing all the day
Give oh give away
Give said the little rain
Give oh give give oh give
Give said the little rain
As it fell upon the flow\'rs
raise their drooping heads again
Give then as gives
Give oh give give oh give
There is something all can give
Do as the streams and blossoms do
For others live
I am a child
And he has sent me here
Has given me an earthly home with parents kind and dear
Lead guide walk beside
Help me find the way
Teach me all that I must do to live with him someday
And so my needs are great
Help me understand his words before it grows too late
Rich blessings are in store
Help me to learn do his will
I'll live with him once more
His promises are sure
Celestial glory shall be mine ff I can but endure
Fair is the sunshine
Fairer the moonlight
And all the stars in heav\'n above
Jesus shines brighter purer
He brings to all the world his love
Fair are the meadows
Fairer the woodlands robed in the flowers of blooming spring
He makes the sorrowing spirit sing
Beautiful Savior
Lord of the nations
Son of God and Son of Man
Thee will I honor praise and give glory
Give praise and glory evermore
Evermore
I like to look for rainbows whenever there is rain
And ponder on the beauty of an earth made clean again
I want my life to be as clean as earth right after rain
I want to be the best I can and live again
know when I am baptized my wrongs are washed away
And I can be forgiven and improve myself each day
I lived in heaven a long time ago it is true
Lived there and loved there with people I know So did you
Then presented a beautiful plan
All about earth and eternal salvation for man
said he needed someone who had enough love
To give his life so we all could return there above
There was another who sought for the honor divine
Father send me and the glory be thine
chosen he came
Conquering evil and death through his glorious name
Giving us hope of a wonderful life yet to be
Home in that heaven where Father is waiting for me
How could the Father tell the world of love and tenderness
He sent his newborn babe with peace and holiness
How could the Father show the world the pathway we should go
walk with men on earth that we may know
How could the Father tell the world of sacrifice of death
die for us and rise with living breath
What does the Father ask of us scriptures say
Have faith have hope live like his Son help others on their way
What does he ask Live like his Son
Rev\'rence is more than just quietly sitting
thinking of Father above
A feeling I get when I think of his blessings
rev\'rent love
shows in my words and my deeds
The pathway to follow is clear
I know in my heart Heavnly Father are near
I'm trying to be like Jesus
I'm following in his ways
I'm trying to love as he did, in all that I do and say
At times I am tempted to make a wrong choice
But I try to listen as the still small voice whispers
Love one another as Jesus loves you
Try to show kindness in all that you do
Be gentle and loving in deed and in thought
For these are the things Jesus taught
I'm trying to love my neighbor
I'm learning to serve my friends.
I watch for the day of gladness when Jesus will come again
I try to remember the lessons he taught
Then the Holy Spirit enters into my thoughts, saying
Jesus walked upon the water
He stilled the storm and calmed the angry sea
With His hands He healed the leper
He made the lame to walk, the blind to see
He fed a thousand people with a loaf or two of bread
And when the ruler's daughter died
He raised her from the dead
Jesus is a God of miracles
Nothing is at all impossible to Him
But I know this of all His miracles the most incredible must be the miracle that rescues me
Jesus bled and died to save me
A price that I could never pay alone
When He rose again, He gave me the greatest gift the world has ever known
Yes, I can be forgiven every time that I repent
And someday He will lift me up to live with Him again
Jesus is a God of miracles
Nothing is at all impossible to Him
But I know this:
Of all His miracles the most incredible must be the miracle that rescues me
The miracle that rescues you and me
Jesus came to John the Baptist in Judea long ago
And was baptized by immersion in the River Jordan's flow
To fulfill the law said Jesus when the Baptist questioned why
And to enter with my Father in the kingdom up on high
Now we know that we must also witness faith in Jesus' word,
Be baptized to show obedience as was Jesus Christ our Lord
If the Savior stood beside me would I do the things I do
Would I think of His commandments and try harder to be true
Would I follow His example
Would I live more righteously if I could see the Savior standing nigh watching over me
If the Savior stood beside me would I say the things I say
Would my words be true and kind if He were never far away
Would I try to share the gospel
Would I speak more rev'rently if I could see the Savior standing nigh watching over me
If the Savior stood beside me would my thoughts be clean and pure
Would His presence give me strength and hope and courage to endure
Would His counsel guide my actions
Would I choose more worthily if I could see the Savior standing nigh watching over me
Watching over me watching over me
He is always near me though I do not see Him there
And because He loves me dearly I am in His watchful care
So I'll be the kind of person that I know I'd like to be if I could see the Savior standing nigh watching over me
I will be the kind of person that I know I'd like to be if I could see the Savior standing nigh watching over me
`

// create an array of lines from the string
const primarySongLines = primarySongsMashup.split(`\n`)

// replace the newlines with spaces and split the string into an array of words
const formattedPrimarySongsMashup = primarySongsMashup.replace(/\n/g, " " ).split( " " )
const mashupLength = formattedPrimarySongsMashup.length

const wordsToCapitalize = [
'Adam',
'Noah',
'I',
'I\'m',
'Abraham',
'Isaac',
'Daniel\'s',
'Moses',
'Jonah',
'Hannah',
'Samuel',
'Eden',
'Jacob',
'Jacob\'s',
'Israel',
'Esther\'s',
'Elisha',
'David',
'Goliaths',
'Deborah',
'Job',
'Caleb',
'Joseph',
'Ruth',
'Enoch',
'Jesus',
'Heavnly',
'Daniel',
]

const loremIpsumButton = document.getElementById('get-lorem-ipsum')
const loremIpsumP = document.getElementById('lorem-ipsum')
const loremIpsumTextarea = document.getElementById('lorem-ipsum-textarea')
const copyButton = document.getElementById('copy')
const messageP = document.getElementById('message')

// Event listener for create button
loremIpsumButton.addEventListener('click', () => {
    messageP.textContent = ''
    const paragraphCount =  Math.ceil(Math.random() * 4)
    let newContent = ''
    for (let i=0; i<paragraphCount; i++) {
        newContent += createParagraph()
        if (i < paragraphCount - 1) {
            newContent += '\n\n'
        }
    }
    loremIpsumP.innerText = newContent
    loremIpsumTextarea.value = newContent
})

function createSentence() {
    // Randomly pick between 2 ways for generate the sentence
    const coinFlip = Math.floor(Math.random() * 2)
    if (coinFlip === 0) {
        let loremIpsum = ''

        // First word
        let firstWord = formattedPrimarySongsMashup[Math.floor(Math.random() * mashupLength)]
        firstWord = firstWord.replace(/(\r\n|\n|\r)/gm, "")
        loremIpsum += firstWord.charAt(0).toUpperCase() + firstWord.slice(1)
        loremIpsum += ' '

        // Rest of sentence
        const sentenceLength = Math.floor(Math.random() * 20) + 1
        for (let i = 0; i < sentenceLength; i++) {
            let nextWord = formattedPrimarySongsMashup[Math.floor(Math.random() * mashupLength)]
            nextWord = nextWord.replace(/(\r\n|\n|\r)/gm, "")

            // Unless a proper noun, lowercase the word
            if (!wordsToCapitalize.includes(nextWord)) {
                nextWord = nextWord.toLowerCase()
            }

            // Add word
            loremIpsum += nextWord 

            // Add space after word unless it's the last word
            if (i < sentenceLength -1 ) {
                loremIpsum += ' ' 
            } 
        }

        // Add ending punctuation
        const endingPunctuationOptions = [ '.', '?', '!', '.', '.']
        const endingPunctuation = endingPunctuationOptions[Math.floor(Math.random() * endingPunctuationOptions.length)]
        loremIpsum += endingPunctuation + ' '
        
        return loremIpsum + ' '
    } else {
        // Take a random line from the primary songs
        let nextLine = primarySongLines[Math.floor(Math.random() * primarySongLines.length)].trim()

         // Add ending punctuation
         const endingPunctuationOptions = [ '.', '?', '!', '.', '.']
         const endingPunctuation = endingPunctuationOptions[Math.floor(Math.random() * endingPunctuationOptions.length)]
        return nextLine + endingPunctuation + ' '
    }
}

function createParagraph() {
    const sentenceCount = Math.floor(Math.random() * 4) + 3
    
    let loremIpsum = ''
    for (let i = 0; i < sentenceCount; i++) {
        loremIpsum += createSentence()
    }
    return loremIpsum
}

copyButton.addEventListener('click', () => {
    /* Select the text*/
    loremIpsumTextarea.select();
    loremIpsumTextarea.setSelectionRange(0, 99999); /* For mobile devices */
    const content = loremIpsumTextarea.value
    /* Copy the text */
    navigator.clipboard.writeText(content)
        .then(() => {
        messageP.textContent = "Copied!"
        })
        .catch(err => {
        messageP.textContent = "Something went wrong when attempting to copy. Please try again later."
        })
})